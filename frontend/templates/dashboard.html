{% extends "layout.html" %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="welcome-banner d-flex justify-content-between align-items-center flex-wrap">
            <div>
                <h2 class="fw-bold mb-1">üëã ¬°Hola, {{ nombre }}!</h2>
                <p class="mb-0 opacity-75">Bienvenido al panel de control de O.M. Integral.</p>
            </div>
            <div class="text-end mt-3 mt-md-0">
                <span class="badge bg-white text-primary p-2 fs-6 shadow-sm">
                    <i class="bi bi-calendar-event me-2"></i> <span id="fecha-actual"></span>
                </span>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card card-dashboard text-center p-4">
            <div class="card-body">
                <div class="icon-box icon-blue">
                    <i class="bi bi-box-seam"></i>
                </div>
                <h5 class="card-title fw-bold">Gesti√≥n de Insumos</h5>
                <p class="card-text text-muted small mb-4">
                    Administra el cat√°logo completo, actualiza existencias y precios unitarios.
                </p>
                <a href="/inventario" class="btn btn-outline-primary btn-custom w-100">
                    Ir al Inventario <i class="bi bi-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card card-dashboard text-center p-4">
            <div class="card-body">
                <div class="icon-box icon-red">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                </div>
                <h5 class="card-title fw-bold">Alertas de Stock</h5>
                <p class="card-text text-muted small mb-4">
                    Revisi√≥n prioritaria de productos pr√≥ximos a agotarse o en cero.
                </p>
                <a href="/reportes" class="btn btn-outline-danger btn-custom w-100">
                    Ver Cr√≠ticos <i class="bi bi-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 mb-4">
        <div class="card card-dashboard text-center p-4">
            <div class="card-body">
                <div class="icon-box icon-green">
                    <i class="bi bi-receipt-cutoff"></i>
                </div>
                <h5 class="card-title fw-bold">Historial de Compras</h5>
                <p class="card-text text-muted small mb-4">
                    Reporte detallado de adquisiciones e ingresos de mercader√≠a.
                </p>
                <a href="/compras" class="btn btn-outline-success btn-custom w-100">
                    Ver Historial <i class="bi bi-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const fecha = new Date().toLocaleDateString('es-ES', opciones);
    document.getElementById('fecha-actual').textContent = fecha.charAt(0).toUpperCase() + fecha.slice(1);
</script>
{% endblock %}